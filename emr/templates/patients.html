
{% extends "main.html" %}

{% load static %}
{% load custom_filters %}


{% block 'content' %}
  <!-- theme body start-->
      <div class="theme-body codex-chat">
        <div class="container-fluid">
          <div class="row">
            <div class="col-12">
              <div class="card">  
                <div class="card-body">
                  
                  <table class="doctorslist-tbl table" id="doctorslist-tbl" style="width:100%;">
                    <thead>

                      <tr>
                        <th>S/N</th>
                        <th>Name</th>
                        <th>Card number</th>
                        <th>Card Expiration</th>
                        <th>Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for patient in patients %}
                      <tr>
                        <td> {{ forloop.counter }} </td>
                        <td> <a class="text-primary ml-8" href="{% url "get_patient" patient.id %}" > {{ patient.first_name }}  {{ patient.last_name }}  </a></td>
                        <td> {{ patient.card_number.card_number }}</td>
                        <td>
                          {% if patient.card_number.expiration_date|is_card_expired %}
                              <span class="badge badge-danger">Expired</span>
                          {% else %}
                              {{ patient.card_number.expiration_date }}
                              
                          {% endif %}
                      </td>
                        <td> <a class="text-primary ml-8" href="{% url "get_patient" patient.id %}" ><i class="w-18" data-feather="eye"></i></a> </td>
                      </tr>
                      {% endfor %}

                    </tbody>
                  </table>
                </div>
               
              </div>
            </div>
          </div>
        </div>
      </div>

{% endblock 'content' %}